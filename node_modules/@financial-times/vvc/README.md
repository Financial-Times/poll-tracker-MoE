# Visual vocabulary components

Visual vocabulary components is a React-based charts components library used by the Financial Times visual and data journalism team. It builds off [vx](https://vx-demo.now.sh/) and will eventually support the [FT's visual vocabulary](https://ft.com/vocabulary).

Previous versions of the FT's charting library can be found at [ft-interactive/visual-vocabulary-templates](https://github.com/ft-interactive/visual-vocabulary-templates) and [ft-interactive/visual-vocabulary](https://github.com/ft-interactive/visual-vocabulary).

### Integrating VVC into a project

- In your project directory, run: `$ npm install github:financial-times/visual-vocabulary-components`
  - This will install the latest version from GitHub. Note you need to have a working GitHub SSH key in your keychain for this to succeed.
- In CircleCI, add the private key from the LastPass share "VVC deploy (SSH key)" to Project Settings -> SSH keys -> Additional SSH Keys. 
- In your `.circleci/config.yml` file, add the following lines BEFORE your `npm install` step:
```yaml
      - add_ssh_keys:
          fingerprints:
            - 'e4:b1:41:7b:ac:23:f6:b4:54:5f:dd:15:ef:cd:51:5a'
```

### Developing VVC

- Download and install this repository.
- Run the storybook using `npm run storybook`. This should automatically open in your browser.

Note: Follow the [style guide](https://github.com/Financial-Times/visual-vocabulary-components/blob/master/STYLEGUIDE.md) for this repository

### Releasing a new version

1. Open a PR with your changes.
2. Update snapshots — `npm run test:update-snapshots`. Look at the diffs and make sure that snapshots only show updates on templates you meant to change.
3. Push your updated snapshots to your branch and make sure tests pass.
4. Get at least one review before you merge anything in.
5. Push to master and tag. — `git tag v0.0.0` `git push origin v0.0.0` (where 0.0.0 is the version)
