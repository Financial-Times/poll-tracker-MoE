import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { scaleLinear, scaleBand, scalePoint, scaleUtc } from '@visx/scale';
import ChartFrame from '../chart-frame';
import Axis from './';

<Meta title="Components/Axes/Banding" component={Axis} />

# Axis banding

Adds transparent rectangles of tone to alternating tick values. Often used in circle timeline, marimekko and vertical line charts. Aids legibility when large amounts of information make it difficult to distinguish the range of the major axis values. Will cope with fixed and variable data bins such as date axis and histograms.

Uses the axis `value` or custom `tickValues` props to generate its structure.

## <a id="bandingProps">Props</a>

- **axisBanding [boolean]** Axis prop, Turns the banding on or off
- **fill** Not yet complete
- **opacity** Not yet complete

## <a id="bandingExamples">Examples</a>

### Axis banding (top)

<Preview>
  <Story name="Axis banding top">
    <ChartFrame title="Axes banding" subtitle="Vertical on linear scale-top" height={300}>
      <Axis
        orientation={'top'}
        scale={scaleLinear({
          domain: [-25, 1350],
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (bottom)

<Preview>
  <Story name="Axis banding bottom">
    <ChartFrame title="Axes banding" subtitle="Vertical on linear scale" height={300}>
      <Axis
        orientation={'bottom'}
        scale={scaleLinear({
          domain: [-25, 1350],
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (vertical ordinal)

<Preview>
  <Story name="Axis banding vertical ordinal">
    <ChartFrame title="Axis banding" subtitle="Vertical on ordinal scale" height={300}>
      <Axis
        orientation={'bottom'}
        scale={scaleBand({
          domain: ['Whippet', 'Greyhound', 'Solouki', 'Afghan hound', 'Borzoi'],
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (vertical custom ticks)

<Preview>
  <Story name="Axis banding vertical custom ticks">
    <ChartFrame
      title="Axes banding"
      subtitle="Vertical on linear scale with custom ticks"
      height={300}
    >
      <Axis
        orientation={'bottom'}
        scale={scaleLinear({
          domain: [0, 100],
          range: [0, 650],
        })}
        tickValues={[
          { label: 'A', xPosition: 0 },
          { label: 'B', xPosition: 10 },
          { label: 'C', xPosition: 20 },
          { label: 'D', xPosition: 45 },
          { label: 'E', xPosition: 70 },
          { label: 'F', xPosition: 90 },
          { label: 'G', xPosition: 100 },
        ]}
        tickPositionVariable="xPosition"
        tickLabelVariable="label"
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (horizontal)

<Preview>
  <Story name="Axis banding horizontal">
    <ChartFrame title="Axis banding" subtitle="Horizontal on linear scale">
      <Axis
        orientation={'right'}
        scale={scaleLinear({
          domain: [-24, 127],
          range: [450, 0],
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (horizontal ordinal)

<Preview>
  <Story name="Axis banding horizontal ordinal">
    <ChartFrame title="Axis banding" subtitle="Horizontal on ordinal scale" height={550}>
      <Axis
        orientation={'left'}
        scale={scaleBand({
          domain: ['Whippet', 'Greyhound', 'Solouki', 'Afghan hound', 'Borzoi'],
          range: [0, 400],
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

<Preview>
  <Story name="Axis banding horizontal scalPoint">
    <ChartFrame title="Axis banding" subtitle="Horizontal on scalePoint scale" height={550}>
      <Axis
        orientation={'left'}
        scale={scalePoint({
          domain: ['Whippet', 'Greyhound', 'Solouki', 'Afghan hound', 'Borzoi'],
          range: [0, 400],
          padding: 0.8,
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (horizontal custom ticks)

<Preview>
  <Story name="Axis banding horizontal custom ticks">
    <ChartFrame
      title="Axes banding"
      subtitle="Horizontal on linear scale with custom ticks"
      height={550}
    >
      <Axis
        orientation={'left'}
        scale={scaleLinear({
          domain: [0, 140],
          range: [350, 0],
        })}
        tickValues={[
          { label: 'Iowa', yPosition: 5 },
          { label: 'Texas', yPosition: 28 },
          { label: 'North Carolina', yPosition: 55.5 },
          { label: 'Wisconsin', yPosition: 69 },
          { label: 'Florida', yPosition: 89.5 },
          { label: 'Nevada', yPosition: 117.5 },
          { label: 'Arizona', yPosition: 126 },
          { label: 'Michigan', yPosition: 137 },
        ]}
        tickPositionVariable="yPosition"
        tickLabelVariable="label"
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>

### Axis banding (date)

<Preview>
  <Story name="Axis banding on dates">
    <ChartFrame title="Axes banding" subtitle="Horizontal on date" height={550}>
      <Axis
        orientation={'left'}
        scale={scaleUtc({
          domain: [new Date('2020-03-01'), new Date('1970-01-01')],
          range: [0, 350],
        })}
        axisBanding={true}
      />
    </ChartFrame>
  </Story>
</Preview>
