import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import ChartFrame from '../chart-frame';
import DebugZone from '../../util/debug';

<Meta title="Components/Chartframes/Web" component={ChartFrame} />

# Web frames

Frames styled for FT web charts. By default they're responsive, which requires two separate renders to achieve: first, the frame renders as a 0px-wide-by-400px-tall SVG object.
The chartframe component then attempts to figure out its width and height, resulting in another render.
Child components (notably Tooltip) can update the chart padding, which will cause another rerender each time that happens.

### Web (responsive)

<Preview>
  <Story name="Responsive">
    <ChartFrame />
  </Story>
</Preview>

### Web (mobile)

<Preview>
  <Story name="Mobile">
    <ChartFrame width={300} height={400} />
  </Story>
</Preview>

### Web (medium)

<Preview>
  <Story name="Medium">
    <ChartFrame width={700} height={500} />
  </Story>
</Preview>

### Web (large)

<Preview>
  <Story name="Large">
    <ChartFrame width={1180} height={700} />
  </Story>
</Preview>

### Without header or footer

<Preview>
  <Story name="Without header or footer">
    <ChartFrame hideTopper={true} hideFooter={true}>
      <DebugZone />
    </ChartFrame>
  </Story>
</Preview>

### With custom stab rule

<Preview>
  <Story name="With custom stab rule">
    <ChartFrame stabRule={() => <rect height="4" fill="#d8d8d8" width="100%" />} />
  </Story>
</Preview>

### With custom title styles

<Preview>
  <Story name="With custom title styles">
    <ChartFrame titleStylesCustom={{ fill: '#990f3d', textTransform: 'uppercase' }} />
  </Story>
</Preview>

### With inline title styles

<Preview>
  <Story name="With inline title styles">
    <ChartFrame
      title="How <tspan style='fill: #1056b6; font-weight: 600;'>Biden</tspan> and <tspan style='fill: #ed4748; font-weight: 600;'>Trump</tspan> are polling in the closest states"
      titleMarkupCustom={true}
    />
  </Story>
</Preview>

### With custom subtitle styles

<Preview>
  <Story name="With custom subtitle styles">
    <ChartFrame subtitleStylesCustom={{ fill: '#990f3d', textTransform: 'uppercase' }} />
  </Story>
</Preview>

### With inline subtitle styles

<Preview>
  <Story name="With inline subtitle styles">
    <ChartFrame
      subtitle={
        "<tspan style='fill: #1056b6; font-weight: 600;'>Biden</tspan> and <tspan style='fill: #ed4748; font-weight: 600;'>Trump</tspan> average poll margin in percentage points"
      }
      subtitleMarkupCustom={true}
    />
  </Story>
</Preview>

### With multiple line source

<Preview>
  <Story name="With multiple line source">
    <ChartFrame source="Line one|Line two" />
  </Story>
</Preview>
