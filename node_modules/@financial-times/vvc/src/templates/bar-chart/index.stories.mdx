import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import BarChart from './';
import { letterFrequency } from '@visx/mock-data';
import categoricalSampleData from '../../sample-data/categorical';
import categoricalUsSampleData from '../../sample-data/categorical-us';

<Meta title="Templates/Bar chart" component={BarChart} />

# Bar chart

A bar chart template.

## Web (responsive)

<Preview>
  <Story name="Web (responsive)">
    <BarChart />
  </Story>
</Preview>

## Web - with negative values (responsive)

<Preview>
  <Story name="Web - with negative values (responsive)">
    <BarChart data={categoricalSampleData} xVariable="Strongly disagree" yVariable="name" />
  </Story>
</Preview>

## Web - with positive and negative values (responsive)

<Preview>
  <Story name="Web - with positive and negative values (responsive)">
    <BarChart data={categoricalUsSampleData} xVariable="margin" yVariable="state" />
  </Story>
</Preview>

## Web - with bar values next to labels

<Preview>
  <Story name="Web - with bar values next to labels">
    <BarChart
      data={letterFrequency}
      height={600}
      margin={{ top: 100, right: 5, bottom: 105, left: 30 }}
      tickLength={0}
      xAxisOrientation={false}
      yTickComponent={({ formattedValue, ...tickProps }) => {
        const barValue = Math.round(
          letterFrequency.find((entry) => entry.letter === formattedValue).frequency * 100
        );
        return (
          <text {...tickProps}>
            <tspan x="-30">{formattedValue}</tspan>
            <tspan fill="#33302e" x="-12">
              {barValue}
            </tspan>
          </text>
        );
      }}
    />
  </Story>
</Preview>

## Web - with fixed bar height

<Preview>
  <Story name="Web - with fixed bar height">
    <BarChart data={letterFrequency.slice(0, 4)} fixedBarHeight={50} xAxisOrientation={false} />
  </Story>
</Preview>

## Web - with custom x max value

<Preview>
  <Story name="Web - with custom x max value">
    <BarChart xMax={1} />
  </Story>
</Preview>

## Social

<Preview>
  <Story name="Social">
    <BarChart
      type="social"
      width={612}
      height={612}
      margin={{ left: 40, right: 40, bottom: 138, top: 140 }}
    />
  </Story>
</Preview>

## Méthode image set — small

<Preview>
  <Story name="Méthode image set — small">
    <BarChart width={300} height={400} />
  </Story>
</Preview>

## Méthode image set — medium

<Preview>
  <Story name="Méthode image set — medium">
    <BarChart width={700} height={500} />
  </Story>
</Preview>

## Méthode image set — large

<Preview>
  <Story name="Méthode image set — large">
    <BarChart width={1180} height={700} />
  </Story>
</Preview>

## Print

<Preview>
  <Story name="Print">
    <BarChart
      type="print"
      width={53.71}
      height={69.85}
      margin={{ top: 40, left: 7, bottom: 35, right: 7 }}
    />
  </Story>
</Preview>
