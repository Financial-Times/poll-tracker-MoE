import React, { useContext } from 'react';
import { PlotContext } from '../../components/chart-frame/plot-context';

const AxisFade = ({ orientation, id }) => {
  const { margin, padding, width, height } = useContext(PlotContext);
  const left = margin.left + padding.left;
  const right = margin.right + padding.right;
  const top = margin.top + padding.top;
  const bottom = margin.bottom + padding.bottom;
  const fullWidth = width + left + right;
  const fullHeight = height + top + bottom;

  return (
    <>
      <defs>
        <linearGradient
          id="axisFadeGradient"
          x1="0%"
          y1="0%"
          x2={orientation === 'horizontal' ? '100%' : '0%'}
          y2={orientation === 'vertical' ? '100%' : '0%'}
        >
          <stop offset="50%" stopColor="black" stopOpacity="1" />
          <stop offset="100%" stopColor="black" stopOpacity="0" />
        </linearGradient>

        <mask id={id}>
          <rect x={-left} y={-top} width={fullWidth} height={fullHeight} fill="white" />
          <rect x="0" y={-top} width={width} height={top} fill="url(#axisFadeGradient)" />
        </mask>
      </defs>
    </>
  );
};

export default AxisFade;
