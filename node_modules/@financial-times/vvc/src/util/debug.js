/**
 * @file
 * A component that receives auto width and height from parent
 * and sizes itself appropriately.
 */

import React, { useContext } from 'react';
import { PlotContext } from '../components/chart-frame/plot-context';

const DebugZone = ({ fillPlot, fillMargin, fillPadding, showMargin, showPadding }) => {
  const { width, height, padding, margin } = useContext(PlotContext);
  return (
    <>
      {showMargin && (
        <rect
          width={width + margin.left + padding.left + margin.right + padding.right}
          height={height + margin.top + padding.top + margin.bottom + padding.bottom}
          x={-(margin.left + padding.left)}
          y={-(margin.top + padding.top)}
          style={{ fill: fillMargin, opacity: 0.5 }}
        />
      )}
      {showPadding && (
        <rect
          width={width + padding.left + padding.right}
          height={height + padding.top + padding.bottom}
          x={-padding.left}
          y={-padding.top}
          style={{ fill: fillPadding, opacity: 0.5 }}
        />
      )}
      <rect width={width} height={height} style={{ fill: fillPlot }} />
    </>
  );
};

DebugZone.defaultProps = {
  fillPlot: 'red',
  fillMargin: 'cyan',
  fillPadding: 'magenta',
  showMargin: false,
  showPadding: false,
};

export default DebugZone;
