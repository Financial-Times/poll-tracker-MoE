function minStep(data, scale) {
	if (scale.step) return scale.step();

	const scaled_data = data.uniqueAscending().map(d => scale(d));
	const n = scaled_data.length;
	if (n < 2) return 0;

	let min_step = Infinity;
	for (let i = 1; i < n; i++) {
		const step = Math.abs(scaled_data[i] - scaled_data[i-1]);
		min_step = Math.min(min_step, step);
	}

	return min_step;
}


export { minStep };
